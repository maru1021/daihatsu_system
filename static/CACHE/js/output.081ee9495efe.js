function initializeEditForm(data){if(!data||!data.data){console.error('Invalid data format:',data);return;}
const form=document.getElementById('EditForm');if(!form){console.error('Edit form not found');return;}
const formData=data.data;for(const[key,value]of Object.entries(formData)){const input=form.querySelector(`[name="${key}"]`);if(input){if(input.type==='checkbox'){input.checked=value;}else if(input.tagName==='SELECT'){input.value=value;if(Array.isArray(value)){for(const[index,item]of value.entries()){const select_id=key.replace('[]',index)
$(`#${select_id}`).val(item.id).trigger('change');}}else{$(`#id_${key}`).val(value).trigger('change');}}else{if(input.type==='file'){if(value&&key.includes('image')){const previewContainer=input.closest('.image-upload-container');if(previewContainer){const uploadArea=previewContainer.querySelector('.image-upload-area');const imagePreview=previewContainer.querySelector('.image-preview');const previewImage=previewContainer.querySelector('.previewImage');if(uploadArea&&imagePreview&&previewImage){previewImage.src=value;uploadArea.style.display='none';imagePreview.style.display='block';}}}}else{input.value=value;}}}}
if(data.edit_url){form.action=data.edit_url;}}
function initializeRegisterForm(){const form=$('#RegisterForm');form.reset();$(form).find('.select2').val('').trigger('change');};